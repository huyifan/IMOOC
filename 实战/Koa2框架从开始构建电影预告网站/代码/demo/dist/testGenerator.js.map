{"version":3,"sources":["../src/testGenerator.js"],"names":["co","require","fetch","generatorFun","res","json","movie","name","alt_title","console","log","run","generator","iterator","it","next","promise","value","then","it2","data","promise2","data2"],"mappings":";;;;;;;;AAAA;;;;AAIA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,QAAQD,QAAQ,YAAR,CAAd;;AAGA,IAAIE,uDAAe,SAAfA,YAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACCD,MAAM,yCAAN,CADD;;AAAA;AACXE,aADW;AAAA;AAAA,iBAEGA,IAAIC,IAAJ,EAFH;;AAAA;AAEXC,eAFW;AAGXC,cAHW,GAGJD,MAAME,SAHF;;AAIjBC,kBAAQC,GAAR,CAAY,OAAZ,EAAqBH,IAArB;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA,KAAfJ,YAAe;AAAA,CAAf,CAAJ;;AAQA;;;AAGAH,GAAGG,YAAH;;AAGAQ,IAAIR,YAAJ;;AAEA,SAASQ,GAAT,CAAaC,SAAb,EAAwB;AACtB,MAAMC,WAAWD,WAAjB;AACA,MAAME,KAAKD,SAASE,IAAT,EAAX;AACA,MAAMC,UAAUF,GAAGG,KAAnB;;AAEAD,UAAQE,IAAR,CAAa,gBAAQ;AACnB,QAAMC,MAAMN,SAASE,IAAT,CAAcK,IAAd,CAAZ;AACA,QAAMC,WAAWF,IAAIF,KAArB;AACAI,aAASH,IAAT,CAAc,iBAAS;AACrBL,eAASE,IAAT,CAAcO,KAAd;AACD,KAFD;AAGD,GAND;AAOD","file":"testGenerator.js","sourcesContent":["/**\r\n * Created by hugo on 2018/8/22.\r\n */\r\n\r\nconst co = require('co')\r\nconst fetch = require('node-fetch')\r\n\r\n\r\nlet generatorFun = function *() {\r\n  const res = yield fetch('https://api.douban.com/v2/movie/1291843')\r\n  const movie = yield res.json()\r\n  const name = movie.alt_title\r\n  console.log(\"name：\", name)\r\n}\r\n\r\n\r\n/*\r\n*将迭代器包装成promise对象\r\n* */\r\nco(generatorFun)\r\n\r\n\r\nrun(generatorFun)\r\n\r\nfunction run(generator) {\r\n  const iterator = generator()\r\n  const it = iterator.next()\r\n  const promise = it.value\r\n\r\n  promise.then(data => {\r\n    const it2 = iterator.next(data)\r\n    const promise2 = it2.value\r\n    promise2.then(data2 => {\r\n      iterator.next(data2)\r\n    })\r\n  })\r\n}"]}